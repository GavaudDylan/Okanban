# JOUR 3 - API - REST & CRUD (partie 1)

## Menu du jour

```
=== Matin COURS ===

- Correction
  - Modèles Sequelize (Cards & Tags)
  - Associations
  - Scripts (`createTables.js` && `seedTables.js`)

- API REST
  - Conventions REST (verbes et chemins)
    - Documentation d'API
  - Clients HTTP
    - Insomnia
  - Architecture
    - Mise en place du serveur Express (en ESM)
    - Spécifications : /lists
    - Première route : GET /lists

- Gitflow 
  - mettre à jour son master

=== Aprem ATELIER ===

- API REST
  - GET /lists
  - GET /lists/:id
  - POST /lists
  - PATCH /lists/:id
  - DELETE /lists
```

## Préférence VSCode 

- Pour les ouvrir : `CTRL + SHIFT + P`

- Taper `"Open User Settings (JSON)"`

- Ajouter : `"javascript.preferences.importModuleSpecifierEnding": "js",` pour avoir les imports automatisés avec l'extension `.js` 

## ESM

L'extension `.js` est obligatoire pour les imports des modules locaux (modules créés manuellement). 

3 types de modules : 
- les modules tiers (NPM)
- les modules core (Node)
- les modules locaux (export)

## Sequelize synchronization des modèles

On peut, sans passer par des scripts SQL, créer nos TABLES dans notre BDD en utilisant nos modèles Sequelize et l'API de Sequelize : 

- `sequelize.drop()` : supprimer toutes les tables
- `sequelize.sync()` : créer toutes les tables / synchroniser
- `Model.drop()` : supprimer une table
- `Model.sync()` : créer/synchroniser UNE table

Mon conseil : **au TP, faite en SQL, pour montrer vos compétences SQL !**

Eventuellement les deux, garder simplement l'équivalent SQL sous le coude si on vous demande ! 

Avantage : 
- on ne sort pas le nez de JS
- on ne définie les modèles 2 fois !
- 